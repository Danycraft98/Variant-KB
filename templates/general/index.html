{% extends 'base.html' %}
{% load render_table from django_tables2 %}
{% load custom_tags static %}


{% block style %}
     <link rel='stylesheet' href='//cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css'>
{% endblock %}

{% block content %}
    <div class='app-main__inner'>
        <div class='jumbotron mt-4'>
            <h1>Variant-KB Dashboard</h1>
            <p>Bootstrap is the most popular HTML, CSS, and JS framework for developing responsive, mobile-first projects on the web.</p>
        </div>

        <div class='tabs-animation'>
            <div class='row'>
                <div class='col-4'>
                    <div class='card card-shadow-success border-success'>
                        <div class='card-header border-success d-flex flex-row align-items-center justify-content-between'>
                            <h5 class='my-2'>Genes</h5>
                            <div class='align-items-right my-2'>
                                Total: {{ counts.0 }}
                            </div>
                        </div>

                        <div class='card-body'>
                            {% render_table mini_tables.0 %}
                        </div>
                    </div>
                </div>

                <div class='col-4'>
                    <div class='card card-shadow-primary border-primary'>
                        <div class='card-header border-primary d-flex flex-row align-items-center justify-content-between'>
                            <h5 class='my-2'>Variants</h5>
                            <div class='align-items-right my-2'>
                                Total: {{ counts.1 }}
                            </div>
                        </div>

                        <div class='card-body'>
                            {% render_table mini_tables.1 %}
                        </div>
                    </div>
                </div>

                <div class='col-4'>
                    <div class='card card-shadow-warning border-warning'>
                        <div class='card-header border-warning d-flex flex-row align-items-center justify-content-between'>
                            <h5 class='my-2'>Diseases</h5>
                            <div class='align-items-right my-2'>
                                Total: {{ counts.2 }}
                            </div>
                        </div>

                        <div class='card-body'>
                            {% render_table mini_tables.2 %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block script %}
    <script src='//cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js'></script>
    <script>
        $(document).ready(function () {
            $('.dataTable').DataTable(
                {% if table.class_type == 'Variant' %}
                    {'scrollX': true, 'sScrollX': '100%', 'sScrollXInner': '110%'}
                {% endif %}
            );
        });

        $('#selectAll').click(function (e) {
            const table = $(e.target).closest('table');
            $('td input:checkbox', table).prop('checked', this.checked);
        });
    </script>
{% endblock %}